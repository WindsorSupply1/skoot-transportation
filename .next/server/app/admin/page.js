(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},74078:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(44753),t(64968),t(35866);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),o=t(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44753)),"C:\\Users\\priej\\skoot-transportation\\src\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\priej\\skoot-transportation\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,64968)),"C:\\Users\\priej\\skoot-transportation\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\priej\\skoot-transportation\\src\\app\\admin\\page.tsx"],m="/admin/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41824:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},47988:(e,s,t)=>{Promise.resolve().then(t.bind(t,11012))},17533:(e,s,t)=>{Promise.resolve().then(t.bind(t,93957))},35303:()=>{},76557:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(17577),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:d="",children:c,...m},x)=>(0,a.createElement)("svg",{ref:x,...r,width:l,height:l,stroke:t,strokeWidth:n?24*Number(o)/Number(l):o,className:["lucide",`lucide-${i(e)}`,d].join(" "),...m},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t}},87888:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},54659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},77636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},24061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},35047:(e,s,t)=>{"use strict";var a=t(77389);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},93957:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(10326),r=t(17577),i=t(77109),l=t(35047),o=t(87888),n=t(76557);let d=(0,n.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),c=(0,n.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),m=(0,n.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var x=t(24061),h=t(48998);let u=(0,n.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var p=t(77636),g=t(54659);let y=(0,n.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function v(){let{data:e,status:s}=(0,i.useSession)(),t=(0,l.useRouter)(),[n,v]=(0,r.useState)(null),[j,b]=(0,r.useState)([]),[N,f]=(0,r.useState)([]),[w,k]=(0,r.useState)(!0),[C,S]=(0,r.useState)(null),P=async()=>{k(!0),S(null);try{let[e,s,t]=await Promise.all([fetch("/api/admin/dashboard/stats"),fetch("/api/admin/bookings?limit=10"),fetch("/api/admin/departures/today")]);if(!e.ok){let s=await e.text();throw Error(`Stats API failed: ${e.status} - ${s}`)}let a=await e.json();if(v(a.stats),s.ok){let e=await s.json();b(e.bookings||[])}if(t.ok){let e=await t.json();f(e.departures||[])}}catch(e){console.error("Failed to fetch dashboard data:",e),S(e instanceof Error?e.message:"Failed to load dashboard data")}finally{k(!1)}},Z=e=>{switch(e.toLowerCase()){case"confirmed":case"paid":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"cancelled":case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},A=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),R=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),_=e=>{let[s,t]=e.split(":").map(Number),a=new Date;return a.setHours(s,t),a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};return w?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):C?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md",children:[(0,a.jsxs)("div",{className:"text-red-600 mb-4",children:[a.jsx(o.Z,{className:"h-8 w-8 mx-auto mb-2"}),a.jsx("h2",{className:"text-lg font-semibold text-center",children:"Dashboard Error"})]}),a.jsx("p",{className:"text-gray-600 text-center mb-4",children:C}),a.jsx("button",{onClick:()=>P(),className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700",children:"Retry"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"SKOOT"}),a.jsx("div",{className:"ml-4 text-gray-500",children:"Admin Dashboard"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-gray-700",children:["Welcome, ",e?.user?.name||e?.user?.email]}),(0,a.jsxs)("button",{onClick:()=>t.push("/auth/signin"),className:"flex items-center text-gray-500 hover:text-gray-700",children:[a.jsx(d,{className:"h-4 w-4 mr-1"}),"Sign Out"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(c,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today's Bookings"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.todayBookings})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(m,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today's Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A(n.todayRevenue)})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x.Z,{className:"h-8 w-8 text-purple-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Customers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.totalCustomers})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(h.Z,{className:"h-8 w-8 text-orange-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Upcoming Departures"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.upcomingDepartures})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(u,{className:"h-8 w-8 text-indigo-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Occupancy Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[n.occupancyRate,"%"]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(o.Z,{className:"h-8 w-8 text-red-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Payments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.pendingPayments})]})]})})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Departures"})}),a.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:N.length>0?N.map(e=>a.jsx("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-lg font-bold text-gray-900",children:_(e.schedule.time)}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[a.jsx(p.Z,{className:"inline h-4 w-4 mr-1"}),e.schedule.route.origin," → ",e.schedule.route.destination]})]}),a.jsx("div",{className:"mt-2 text-sm text-gray-500",children:e.schedule.route.name})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${0===e.availableSeats?"bg-red-100 text-red-800":e.availableSeats<5?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[e.bookedSeats,"/",e.capacity," booked"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.availableSeats," seats left"]})]})]})},e.id)):a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No departures scheduled for today"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"})}),a.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:j.length>0?j.map(e=>a.jsx("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:e.bookingNumber}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z(e.status)}`,children:e.status})]}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-600",children:[e.user.email," • ",e.passengerCount," passenger",e.passengerCount>1?"s":""]}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:[e.departure.schedule.route.name," • ",R(e.departure.date)," at ",_(e.departure.schedule.time)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"font-bold text-gray-900",children:A(e.totalAmount)}),(0,a.jsxs)("div",{className:`text-xs ${Z(e.status)}`,children:["PAID"===e.status&&a.jsx(g.Z,{className:"inline h-3 w-3 mr-1"}),"CANCELLED"===e.status&&a.jsx(y,{className:"inline h-3 w-3 mr-1"}),"PENDING"===e.status&&a.jsx(h.Z,{className:"inline h-3 w-3 mr-1"}),e.status]})]})]})},e.id)):a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No recent bookings"})})]})]}),(0,a.jsxs)("div",{className:"mt-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/admin/bookings"),className:"bg-white rounded-lg shadow-sm p-6 text-left hover:shadow-md transition-shadow",children:[a.jsx(c,{className:"h-8 w-8 text-blue-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Manage Bookings"}),a.jsx("p",{className:"text-sm text-gray-500",children:"View and edit customer bookings"})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/admin/schedules"),className:"bg-white rounded-lg shadow-sm p-6 text-left hover:shadow-md transition-shadow",children:[a.jsx(h.Z,{className:"h-8 w-8 text-orange-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Schedules"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage departure schedules"})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/admin/customers"),className:"bg-white rounded-lg shadow-sm p-6 text-left hover:shadow-md transition-shadow",children:[a.jsx(x.Z,{className:"h-8 w-8 text-purple-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Customers"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Customer database and history"})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/admin/reports"),className:"bg-white rounded-lg shadow-sm p-6 text-left hover:shadow-md transition-shadow",children:[a.jsx(u,{className:"h-8 w-8 text-green-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Reports"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Revenue and analytics"})]})]})]})]})}},11012:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>i});var a=t(10326),r=t(77109);function i({children:e}){return a.jsx(r.SessionProvider,{children:e})}},9457:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r,dynamic:()=>a});let a="force-dynamic";function r({children:e}){return e}},44753:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\priej\skoot-transportation\src\app\admin\page.tsx#default`)},64968:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>o});var a=t(19510),r=t(25384),i=t.n(r);t(5023);let l=(0,t(68570).createProxy)(String.raw`C:\Users\priej\skoot-transportation\src\components\providers.tsx#Providers`),o={title:"Skoot Shuttle – Columbia SC to Charlotte Airport Rides",description:"Hourly shuttle service from Columbia, SC to Charlotte Douglas Airport. Comfortable, reliable, and affordable rides starting at $31. Book your seat today!",keywords:"Columbia to Charlotte airport shuttle, CLT airport transportation, Columbia SC shuttle service, Charlotte airport rides, airport shuttle Columbia, USC shuttle to airport, Fort Jackson airport transportation, Rock Hill Charlotte shuttle, affordable airport rides SC",authors:[{name:"Skoot Transportation"}],creator:"Skoot Transportation",publisher:"Skoot Transportation",icons:{icon:"/favicon.svg",shortcut:"/favicon.svg",apple:"/favicon.svg"},verification:{google:"your-google-verification-code-here"},openGraph:{title:"Skoot Shuttle – Columbia SC to Charlotte Airport Transportation",description:"Reliable hourly shuttle service from Columbia, SC to Charlotte Douglas Airport. Clean vehicles, professional drivers, starting at $31.",url:"https://skoot.bike",siteName:"Skoot Shuttle",locale:"en_US",type:"website",images:[{url:"https://skoot.bike/og-image.jpg",width:1200,height:630,alt:"Skoot Shuttle - Columbia to Charlotte Airport"}]},twitter:{card:"summary_large_image",title:"Skoot Shuttle – Columbia SC to Charlotte Airport",description:"Reliable hourly shuttle service starting at $31. Professional drivers, clean vehicles, on-time service.",images:["https://skoot.bike/og-image.jpg"]},robots:{index:!0,follow:!0,"max-image-preview":"large","max-snippet":-1,"max-video-preview":-1,googleBot:{index:!0,follow:!0,noimageindex:!1,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},alternates:{canonical:"https://skoot.bike"}};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:a.jsx(l,{children:a.jsx("div",{id:"root",children:e})})})})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,819],()=>t(74078));module.exports=a})();