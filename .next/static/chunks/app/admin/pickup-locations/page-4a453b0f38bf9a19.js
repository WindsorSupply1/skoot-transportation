(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[475],{9083:function(e,s,t){Promise.resolve().then(t.bind(t,4222))},9763:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:x="",children:m,...u}=t;return(0,a.createElement)("svg",{ref:l,...r,width:c,height:c,stroke:n,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(i(e)),x].join(" "),...u},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},2252:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2660:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5302:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},875:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2135:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2208:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},740:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2207:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]])},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7168:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3229:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},3247:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8930:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},4222:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Z}});var a=t(7437),r=t(2265),i=t(605),l=t(9376),n=t(2252),c=t(2660),o=t(9397),d=t(7168),x=t(3774),m=t(5302);let u=(0,t(9763).Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var h=t(5805),g=t(740),p=t(2135),y=t(875),f=t(3247),j=t(1723),b=t(2208),v=t(2207),N=t(8930),k=t(2489),w=t(3229);let C={monday:{enabled:!0,open:"06:00",close:"22:00"},tuesday:{enabled:!0,open:"06:00",close:"22:00"},wednesday:{enabled:!0,open:"06:00",close:"22:00"},thursday:{enabled:!0,open:"06:00",close:"22:00"},friday:{enabled:!0,open:"06:00",close:"22:00"},saturday:{enabled:!0,open:"08:00",close:"20:00"},sunday:{enabled:!0,open:"08:00",close:"20:00"}};function Z(){let{data:e,status:s}=(0,i.useSession)(),t=(0,l.useRouter)(),[Z,L]=(0,r.useState)([]),[S,A]=(0,r.useState)([]),[P,D]=(0,r.useState)(!0),[M,O]=(0,r.useState)(null),[H,E]=(0,r.useState)(!1),[z,F]=(0,r.useState)("create"),[T,q]=(0,r.useState)(null),[B,I]=(0,r.useState)(!1),[R,U]=(0,r.useState)({search:"",status:"all",type:"pickup"}),[_,V]=(0,r.useState)({operatingHours:C}),[W,$]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if("loading"!==s){if(!(null==e?void 0:e.user)){t.push("/auth/signin");return}J()}},[e,s,t]),(0,r.useEffect)(()=>{K()},[Z,R]);let J=async()=>{D(!0),O(null);try{let e=await fetch("/api/admin/pickup-locations?includeInactive=true&pickupOnly=false");if(!e.ok)throw Error("Failed to fetch locations: ".concat(e.status));let s=await e.json();L(s.locations||[])}catch(e){console.error("Failed to fetch locations:",e),O(e instanceof Error?e.message:"Failed to load locations")}finally{D(!1)}},K=()=>{let e=[...Z];if(R.search){let s=R.search.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.address.toLowerCase().includes(s)||e.city.toLowerCase().includes(s))}"all"!==R.status&&(e=e.filter(e=>"active"===R.status?e.isActive:!e.isActive)),"all"!==R.type&&(e=e.filter(e=>"pickup"===R.type?e.isPickup:"dropoff"!==R.type||e.isDropoff)),A(e)},X=e=>{V({...e,operatingHours:e.operatingHours||C}),F("edit"),q(e),E(!0)},G=async e=>{q(e),F("view");try{let s=await fetch("/api/admin/pickup-locations/".concat(e.id));if(s.ok){let e=await s.json();q(e.location)}}catch(e){console.error("Failed to fetch location details:",e)}E(!0)},Q=async e=>{if(e.preventDefault(),_.name&&_.address){$(!0);try{let e="create"===z?"/api/admin/pickup-locations":"/api/admin/pickup-locations/".concat(null==T?void 0:T.id),s=await fetch(e,{method:"create"===z?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save location")}await J(),E(!1),V({operatingHours:C})}catch(e){console.error("Failed to save location:",e),alert(e instanceof Error?e.message:"Failed to save location")}finally{$(!1)}}},Y=async e=>{if(confirm("Are you sure you want to delete this location? This action cannot be undone."))try{let s=await fetch("/api/admin/pickup-locations/".concat(e),{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete location")}J(),E(!1)}catch(e){console.error("Failed to delete location:",e),alert(e instanceof Error?e.message:"Failed to delete location")}},ee=e=>{if(!e)return"Not set";let s=Object.entries(e).filter(e=>{let[s,t]=e;return t.enabled}).map(e=>{let[s]=e;return s.charAt(0).toUpperCase()+s.slice(1,3)});return 0===s.length?"Closed":7===s.length?"Daily":s.join(", ")},es=e=>e.isPickup&&e.isDropoff?"⇅":e.isPickup?"↑":e.isDropoff?"↓":"○";return P?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):M?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 max-w-md",children:[(0,a.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-center",children:"Error Loading Locations"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-center mb-4",children:M}),(0,a.jsx)("button",{onClick:J,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700",children:"Try Again"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/admin"),className:"flex items-center text-gray-500 hover:text-gray-700 mr-4",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"SKOOT"}),(0,a.jsx)("div",{className:"ml-4 text-gray-500",children:"Pickup Location Management"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>{V({name:"",address:"",city:"",state:"",zipCode:"",isPickup:!0,isDropoff:!1,isActive:!0,sortOrder:0,operatingHours:C}),F("create"),q(null),E(!0)},className:"flex items-center px-3 py-2 text-sm bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"Add Location"]}),(0,a.jsxs)("button",{onClick:J,className:"flex items-center px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Locations"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Z.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Z.filter(e=>e.isActive).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u,{className:"h-8 w-8 text-purple-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pickup Points"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Z.filter(e=>e.isPickup).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{className:"h-8 w-8 text-orange-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Bookings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Z.reduce((e,s)=>e+s.bookingCount,0)})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Pickup Locations"}),(0,a.jsxs)("button",{onClick:()=>I(!B),className:"flex items-center text-gray-500 hover:text-gray-700",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),"Filters",B?(0,a.jsx)(p.Z,{className:"h-4 w-4 ml-1"}):(0,a.jsx)(y.Z,{className:"h-4 w-4 ml-1"})]})]})}),B&&(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Name, address, city...",value:R.search,onChange:e=>U({...R,search:e.target.value}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsxs)("select",{value:R.status,onChange:e=>U({...R,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"all",children:"All Statuses"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,a.jsxs)("select",{value:R.type,onChange:e=>U({...R,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"pickup",children:"Pickup Only"}),(0,a.jsx)("option",{value:"dropoff",children:"Dropoff Only"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{onClick:()=>U({search:"",status:"all",type:"pickup"}),className:"w-full px-3 py-2 text-sm text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Clear Filters"})})]})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:S.length>0?S.map(e=>(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsxs)("span",{className:"text-lg font-medium text-gray-900",children:[es(e)," ",e.name]}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"}),e.maxCapacity&&(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Max: ",e.maxCapacity]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"Address"}),(0,a.jsx)("div",{className:"font-medium",children:e.address}),(0,a.jsxs)("div",{className:"text-gray-600",children:[e.city,", ",e.state," ",e.zipCode]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"Type & Schedule"}),(0,a.jsx)("div",{className:"font-medium",children:e.isPickup&&e.isDropoff?"Pickup & Dropoff":e.isPickup?"Pickup Only":"Dropoff Only"}),(0,a.jsxs)("div",{className:"text-gray-600",children:[(0,a.jsx)(j.Z,{className:"h-3 w-3 inline mr-1"}),ee(e.operatingHours)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"Usage Stats"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.bookingCount," total bookings"]}),(0,a.jsxs)("div",{className:"text-gray-600",children:[e.pickupBookingCount," pickup • ",e.dropoffBookingCount," dropoff"]})]})]}),e.instructions&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Instructions:"})," ",e.instructions]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-6",children:[(0,a.jsx)("button",{onClick:()=>G(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"View Details",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>X(e),className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg",title:"Edit Location",children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>Y(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete Location",children:(0,a.jsx)(N.Z,{className:"h-4 w-4"})})]})]})},e.id)):(0,a.jsxs)("div",{className:"p-12 text-center text-gray-500",children:[(0,a.jsx)(x.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No locations found"}),(0,a.jsx)("p",{children:"No locations match your current filters."})]})})]})]}),H&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>E(!1)}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[(0,a.jsx)("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"create"===z?"Add New Location":"edit"===z?"Edit Location":"Location Details"}),(0,a.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(k.Z,{className:"h-5 w-5"})})]})}),"view"===z&&T?(0,a.jsxs)("div",{className:"bg-white px-6 py-4 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Location Information"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Name:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Address:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.address})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"City:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.city})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"State:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.state})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Zip Code:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.zipCode})]}),T.latitude&&T.longitude&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Coordinates:"})," ",(0,a.jsxs)("span",{className:"font-medium",children:[T.latitude,", ",T.longitude]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Settings"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Type:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.isPickup&&T.isDropoff?"Pickup & Dropoff":T.isPickup?"Pickup Only":"Dropoff Only"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,a.jsx)("span",{className:"ml-1 font-medium ".concat(T.isActive?"text-green-600":"text-red-600"),children:T.isActive?"Active":"Inactive"})]}),T.maxCapacity&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Max Capacity:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.maxCapacity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Sort Order:"})," ",(0,a.jsx)("span",{className:"font-medium",children:T.sortOrder})]})]})]})]}),T.instructions&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Pickup Instructions"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:T.instructions})]}),T.operatingHours&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Operating Hours"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(T.operatingHours).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"font-medium capitalize",children:[s,":"]}),t.enabled?(0,a.jsxs)("span",{className:"ml-2 text-gray-600",children:[t.open," - ",t.close]}):(0,a.jsx)("span",{className:"ml-2 text-red-600",children:"Closed"})]},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Usage Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:T.bookingCount}),(0,a.jsx)("div",{className:"text-blue-600",children:"Total Bookings"})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:T.pickupBookingCount}),(0,a.jsx)("div",{className:"text-green-600",children:"Pickups"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:T.dropoffBookingCount}),(0,a.jsx)("div",{className:"text-purple-600",children:"Dropoffs"})]})]})]}),T.pickupBookings&&T.pickupBookings.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Recent Bookings"}),(0,a.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:T.pickupBookings.map(e=>(0,a.jsxs)("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:e.bookingNumber}),(0,a.jsx)("span",{className:"text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"text-gray-600",children:[e.user.firstName," ",e.user.lastName," • ",e.departure.schedule.route.name]})]},e.id))})]})]}):(0,a.jsxs)("form",{onSubmit:Q,className:"bg-white px-6 py-4 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:_.name||"",onChange:e=>V({..._,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"e.g., USC Campus Center"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,a.jsx)("input",{type:"text",required:!0,value:_.address||"",onChange:e=>V({..._,address:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"e.g., 1400 Wheat Street"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,a.jsx)("input",{type:"text",required:!0,value:_.city||"",onChange:e=>V({..._,city:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Columbia"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,a.jsx)("input",{type:"text",required:!0,value:_.state||"",onChange:e=>V({..._,state:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"SC"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zip Code *"}),(0,a.jsx)("input",{type:"text",required:!0,value:_.zipCode||"",onChange:e=>V({..._,zipCode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"29208"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),(0,a.jsx)("input",{type:"number",step:"any",value:_.latitude||"",onChange:e=>V({..._,latitude:e.target.value?parseFloat(e.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"34.0224"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),(0,a.jsx)("input",{type:"number",step:"any",value:_.longitude||"",onChange:e=>V({..._,longitude:e.target.value?parseFloat(e.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"-81.0352"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup Instructions"}),(0,a.jsx)("textarea",{value:_.instructions||"",onChange:e=>V({..._,instructions:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Detailed pickup instructions, landmarks, parking information..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Capacity (optional)"}),(0,a.jsx)("input",{type:"number",min:"1",value:_.maxCapacity||"",onChange:e=>V({..._,maxCapacity:e.target.value?parseInt(e.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"15"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),(0,a.jsx)("input",{type:"number",value:_.sortOrder||0,onChange:e=>V({..._,sortOrder:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:_.isPickup||!1,onChange:e=>V({..._,isPickup:e.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Pickup Location"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:_.isDropoff||!1,onChange:e=>V({..._,isDropoff:e.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Dropoff Location"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:!1!==_.isActive,onChange:e=>V({..._,isActive:e.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Operating Hours"}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(_.operatingHours||{}).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-24",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.enabled,onChange:e=>V({..._,operatingHours:{..._.operatingHours,[s]:{...t,enabled:e.target.checked}}}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:s})]})}),t.enabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"time",value:t.open||"06:00",onChange:e=>V({..._,operatingHours:{..._.operatingHours,[s]:{...t,open:e.target.value}}}),className:"px-2 py-1 border border-gray-300 rounded focus:ring-orange-500 focus:border-orange-500 text-sm"})}),(0,a.jsx)("span",{className:"text-gray-500",children:"to"}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"time",value:t.close||"22:00",onChange:e=>V({..._,operatingHours:{..._.operatingHours,[s]:{...t,close:e.target.value}}}),className:"px-2 py-1 border border-gray-300 rounded focus:ring-orange-500 focus:border-orange-500 text-sm"})})]})]},s)})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 text-sm text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:W,className:"px-4 py-2 text-sm text-white bg-orange-600 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[W&&(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-1 animate-spin"}),(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-1"}),"create"===z?"Create Location":"Update Location"]})]})]}),"view"===z&&(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"}),(0,a.jsx)("button",{onClick:()=>{X(T)},className:"px-4 py-2 text-sm text-white bg-orange-600 rounded-lg hover:bg-orange-700",children:"Edit Location"})]})]})]})})]})}}},function(e){e.O(0,[605,971,117,744],function(){return e(e.s=9083)}),_N_E=e.O()}]);